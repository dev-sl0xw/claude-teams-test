# 성능 효율성 Pillar 개요

## 왜 이것이 중요한가? (질문)

> 읽기 전에 스스로에게 물어보세요: 같은 워크로드를 처리하는데 비용은 절반, 응답 시간은 두 배 빠르게 만들 수 있다면 어떻게 하시겠습니까? 클라우드에서는 "적절한 리소스 선택"만으로 이것이 가능합니다.

## 핵심 개념

### 성능 효율성이란?

성능 효율성 Pillar는 **IT 및 컴퓨팅 리소스를 효율적으로 사용하여 시스템 요구사항을 충족하고, 수요 변화와 기술 발전에 따라 그 효율성을 유지하는 능력**을 의미합니다.

**왜 온프레미스와 다른가?**

온프레미스 환경에서는 하드웨어를 한번 구매하면 3~5년간 사용해야 합니다. "성능이 부족하면 더 큰 서버를 사다"가 유일한 해결책이었습니다. 하지만 클라우드에서는:

1. **필요할 때 즉시** 리소스를 추가하거나 변경할 수 있습니다 (탄력성)
2. **전 세계 리전**에 배포하여 지연시간을 줄일 수 있습니다 (글로벌 도달)
3. **서버리스 기술**로 인프라 관리 없이 코드만 실행할 수 있습니다 (관리형 서비스)
4. **실험이 자유롭습니다** - 잘못 선택했으면 즉시 바꾸면 됩니다

### 4가지 핵심 영역

| 영역 | 핵심 질문 | 예시 |
|------|-----------|------|
| **선택 (Selection)** | 워크로드에 가장 적합한 리소스 유형은? | EC2 vs Lambda vs Fargate |
| **검토 (Review)** | 새로운 기술/서비스로 개선 가능한가? | Graviton 프로세서 전환 |
| **모니터링 (Monitoring)** | 성능이 기대치를 충족하는가? | CloudWatch 메트릭 |
| **트레이드오프 (Tradeoffs)** | 성능을 위해 무엇을 교환할 수 있는가? | 캐싱으로 일관성 양보 |

### 수직 확장 vs 수평 확장

**왜 이 개념이 SAA 시험에서 중요한가?**

확장 전략 선택은 아키텍처 설계의 가장 근본적인 결정 중 하나입니다.

#### 수직 확장 (Scale Up)

- **개념**: 더 큰/강력한 리소스로 교체 (예: t3.micro -> m5.xlarge)
- **장점**: 애플리케이션 변경 불필요, 단순한 구조 유지
- **단점**: 물리적 한계 존재, 단일 장애점(SPOF), 확장 시 다운타임 발생 가능
- **적합한 경우**: 관계형 DB(RDS), 단일 인스턴스 애플리케이션

#### 수평 확장 (Scale Out)

- **개념**: 동일한 리소스를 여러 개 추가 (예: EC2 인스턴스 1개 -> 10개)
- **장점**: 이론적으로 무한 확장, 고가용성, 무중단 확장
- **단점**: 애플리케이션이 상태 비저장(Stateless) 설계 필요, 복잡성 증가
- **적합한 경우**: 웹 서버, API 서버, 마이크로서비스

> 질문: DynamoDB는 수직 확장인가요, 수평 확장인가요? "용량 모드"와 "파티셔닝"을 생각해보세요.

### 적절한 리소스 선택

**왜 "가장 비싼 리소스 = 최고의 성능"이 아닌가?**

클라우드에서 성능 최적화는 "가장 크고 빠른 것"을 선택하는 것이 아니라, **워크로드 특성에 맞는 적절한 리소스를 선택하는 것**입니다.

| 워크로드 특성 | 잘못된 선택 | 올바른 선택 | 이유 |
|---------------|-------------|-------------|------|
| 간헐적 API 호출 (일 100건) | EC2 m5.xlarge (24시간 가동) | Lambda | 99%의 시간 동안 유휴 상태 |
| 안정적 트래픽 웹 서버 | Lambda | EC2 + ALB | 예측 가능한 트래픽에 Lambda는 비효율적 |
| 대용량 데이터 분석 | 범용 인스턴스 (m5) | 컴퓨팅 최적화 (c5) 또는 EMR | CPU 집약적 작업에 범용은 비효율 |
| GPU 기반 ML 학습 | CPU 인스턴스 다수 | p3/p4 GPU 인스턴스 | GPU가 ML 학습에 수십 배 빠름 |

## 잠깐, 그런데... (흔한 오해)

### 오해 1: "서버리스가 항상 더 좋다"
서버리스(Lambda)는 간헐적 워크로드에 최적이지만, **일정한 고트래픽**에는 EC2가 더 경제적일 수 있습니다. Lambda의 콜드 스타트 지연시간도 실시간 처리에는 문제가 됩니다.

### 오해 2: "인스턴스 유형을 한 번 정하면 끝"
AWS는 지속적으로 새로운 인스턴스 유형(예: Graviton 기반)을 출시합니다. **정기적인 성능 검토**를 통해 더 나은 가격 대비 성능의 인스턴스로 전환해야 합니다.

### 오해 3: "Auto Scaling만 설정하면 성능 문제 해결"
Auto Scaling은 **수량 조절**만 합니다. 애플리케이션 자체의 병목(비효율적 쿼리, 메모리 누수 등)은 스케일링으로 해결되지 않습니다.

### 오해 4: "지연시간과 처리량은 같은 개념"
- **지연시간(Latency)**: 하나의 요청이 완료되는 데 걸리는 시간
- **처리량(Throughput)**: 단위 시간당 처리할 수 있는 요청 수
- 고속도로 비유: 제한속도(지연시간)가 같아도 차선 수(처리량)는 다를 수 있습니다.

## 핸즈온 연결

> 이 개념은 [Lab 01 - Lambda Functions], [Lab 02 - ElastiCache], [Lab 03 - CloudFront CDN]에서 구현됩니다.
>
> - Lab 01에서 Lambda의 콜드 스타트를 직접 측정하며 "적절한 컴퓨팅 선택"을 체험합니다.
> - Lab 02에서 ElastiCache를 구성하며 "캐싱을 통한 성능 트레이드오프"를 실습합니다.
> - Lab 03에서 CloudFront를 구성하며 "글로벌 배포를 통한 지연시간 최소화"를 구현합니다.

## SAA 시험 핵심 포인트

- 성능 효율성의 4가지 영역: 선택, 검토, 모니터링, 트레이드오프
- 수직 확장 vs 수평 확장의 특징과 적합한 워크로드
- "적절한 리소스 선택"은 항상 워크로드 특성 분석이 선행되어야 함
- 서버리스(Lambda, Fargate)는 관리 부담을 줄이지만, 모든 워크로드에 적합하지는 않음
- Auto Scaling은 "수요에 맞춰 확장"하지만, 근본적인 애플리케이션 병목은 해결하지 못함
- Graviton 프로세서: ARM 기반으로 x86 대비 최대 40% 가격 대비 성능 향상
- 글로벌 서비스(CloudFront, Global Accelerator)로 지연시간 최소화

## 관련 Pillar

- **비용 최적화**: 성능에 과도한 투자는 비용 낭비, 최적의 균형점을 찾아야 함
- **안정성**: 성능 저하는 곧 가용성 문제로 이어질 수 있음 (타임아웃, 큐 적체)
- **운영 우수성**: 성능 모니터링과 알림은 운영의 핵심 요소
- **보안**: 암호화(SSL/TLS, KMS)는 약간의 성능 오버헤드를 발생시킬 수 있음
